<div class="post-container">
  <mat-form-field>
    <input matInput placeholder="Search post" name="searchPost" [(ngModel)]="searchPost"  (ngModelChange)="filter()">
  </mat-form-field>
  <mat-accordion *ngIf="!searchPost">
    <mat-expansion-panel *ngFor="let post of posts">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ post.title }}
        </mat-panel-title>
        <mat-panel-description>
          Comments ({{ post.comments.length }})
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>{{ post.body }}</p>
    </mat-expansion-panel>
  </mat-accordion>
  <mat-accordion *ngIf="searchPost">
    <mat-expansion-panel *ngFor="let post of filteredPosts">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ post.title }}
        </mat-panel-title>
        <mat-panel-description>
          Comments ({{ post.comments.length }})
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>{{ post.body }}</p>
    </mat-expansion-panel>
  </mat-accordion>
</div>
